(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-710f311e"],{"50fc":function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"c",function(){return r}),a.d(e,"d",function(){return l}),a.d(e,"a",function(){return i});var o=a("b775");function n(t){return Object(o["a"])({url:"/admin?limit=".concat(t.limit,"&offset=").concat(t.offset,"&tag=").concat(t.tag),method:"get"})}function r(t){return Object(o["a"])({url:"/admin",method:"post",data:t})}function l(t,e){return Object(o["a"])({url:"/admin/".concat(t),method:"put",data:e})}function i(t){return Object(o["a"])({url:"/admin/".concat(t),method:"delete"})}},9635:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"nav-container"},[a("H3",[t._v("添加的网站")]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%"},attrs:{data:t.tableAddData,stripe:"","highlight-current-row":"","element-loading-text":"别催了，我在加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",border:""}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category",label:"分类",width:"200","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.row.category,callback:function(a){t.$set(e.row,"category",a)},expression:"scope.row.category"}}),t._v(" "),a("span",[t._v(t._s(e.row.category))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名字",width:"200","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"website",label:"网站链接",width:"200","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticClass:"font-website",attrs:{to:{path:"iframeNav",query:{website:e.row.website}}}},[t._v("\n            "+t._s(e.row.website)+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"描述","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"200","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.postSuperMap(e.row)}}},[t._v("添加")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteMap(e.row,"添加")}}},[t._v("取消")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.currentPageAdd,"page-sizes":[5,10,20,50],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.totalAdd},on:{"size-change":t.handleSizeAdd,"current-change":t.handleCurrentAdd}})],1)],1),t._v(" "),a("div",{staticClass:"nav-container"},[a("H3",[t._v("修改的网站")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tablePutData,stripe:"","highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category",label:"分类",width:"200","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.row.category,callback:function(a){t.$set(e.row,"category",a)},expression:"scope.row.category"}}),t._v(" "),a("span",[t._v(t._s(e.row.category))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名字",width:"200","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"website",label:"网站链接",width:"200","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticClass:"font-website",attrs:{to:{path:"iframeNav",query:{website:e.row.website}}}},[t._v("\n            "+t._s(e.row.website)+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"描述","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"200","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.putSuperMap(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteMap(e.row,"修改")}}},[t._v("取消")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.currentPagePut,"page-sizes":[5,10,20,50],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.totalPut},on:{"size-change":t.handleSizePut,"current-change":t.handleCurrentPut}})],1)],1)])},n=[],r=(a("7f7f"),a("c91c")),l=a("50fc"),i={data:function(){return{tableAddData:[],tablePutData:[],currentPageAdd:1,currentPagePut:1,loading:!0,totalAdd:0,totalPut:0,addQueryData:{limit:5,offset:0,tag:"add"},putQueryData:{limit:5,offset:0,tag:"put"},reg:/[\u4e00-\u9fa5]/g}},created:function(){this.getMap()},methods:{putSuperMap:function(t){var e=this;r["e"](t._id,t).then(function(a){"ok"===a.state?e.$notify.success({title:"成功",message:"编辑网站《".concat(t.name,"》成功！"),duration:"500"}):e.$notify.error({title:"失败",message:"编辑网站《".concat(t.name,"》失败！"),duration:"500"}),e.getMap()})},postSuperMap:function(t){var e=this;r["d"](t._id,t).then(function(a){"ok"===a.state?e.$notify.success({title:"成功",message:"添加网站《".concat(t.name,"》成功"),duration:"500"}):e.$notify.error({title:"失败",message:"添加网站《".concat(t.name,"》失败"),duration:"500"}),e.getMap()})},getMap:function(){var t=this;l["b"](this.addQueryData).then(function(e){t.loading=!1,t.totalAdd=e.total,t.tableAddData=e.data}),l["b"](this.putQueryData).then(function(e){t.loading=!1,t.totalPut=e.total,t.tablePutData=e.data})},deleteMap:function(t,e){var a=this;l["a"](t._id).then(function(o){"ok"===o.state?a.$notify.success({title:"成功",message:"".concat(e,"网站《").concat(t.name,"》取消！"),duration:"500"}):a.$notify.error({title:"失败",message:"取消网站《".concat(t.name,"》失败！"),duration:"500"}),a.getMap()}).catch(function(){a.$message({type:"info",message:"已取消此操作"})})},handleSizeAdd:function(t){this.addQueryData.limit=t,this.getMap()},handleCurrentAdd:function(t){this.addQueryData.offset=(t-1)*this.addQueryData.limit,this.getMap()},handleSizePut:function(t){this.putQueryData.limit=t,this.getMap()},handleCurrentPut:function(t){this.putQueryData.offset=(t-1)*this.putQueryData.limit,this.getMap()}}},s=i,c=(a("cc34"),a("2877")),u=Object(c["a"])(s,o,n,!1,null,"298da077",null);e["default"]=u.exports},b0d8:function(t,e,a){},cc34:function(t,e,a){"use strict";var o=a("b0d8"),n=a.n(o);n.a}}]);