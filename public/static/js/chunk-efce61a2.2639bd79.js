(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efce61a2"],{"9ecd":function(e,t,a){},c010:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-container"},[e.categoryOptions?[a("el-select",{attrs:{placeholder:"请选择网站分类"},on:{change:e.changeCategory},model:{value:e.queryData.category,callback:function(t){e.$set(e.queryData,"category",t)},expression:"queryData.category"}},e._l(e.categoryOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]:e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.tableData,stripe:"","highlight-current-row":"","element-loading-text":"别催了，我在加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",border:""}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category",label:"分类",width:"200","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名字",width:"200","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"website",label:"网站链接",width:"200","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"font-website",attrs:{to:{path:"iframeNav",query:{website:t.row.website}}}},[e._v("\n          "+e._s(t.row.website)+"\n        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"描述","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"200","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(a){return e.openDialog(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(a){return e.deleteSuperMap(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑网站",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"网站名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站分类",prop:"category"}},[a("el-select",{attrs:{placeholder:"请选择网站分类","allow-create":"",filterable:"","default-first-option":""},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.categoryOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"网站链接",prop:"website"}},[a("el-input",{model:{value:e.form.website,callback:function(t){e.$set(e.form,"website",t)},expression:"form.website"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站LOGO",prop:"logo"}},[a("el-input",{model:{value:e.form.logo,callback:function(t){e.$set(e.form,"logo",t)},expression:"form.logo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站描述",prop:"describe"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.putSuperMap(e.form)}}},[e._v("确 定")])],1)],1)],2)},l=[],r=(a("7f7f"),a("c91c")),n=a("ed08"),i={data:function(){return{tableData:[],dialogFormVisible:!1,form:{},formLabelWidth:"120px",categoryOptions:[],currentPage:1,loading:!0,total:0,queryData:{limit:10,offset:0,category:"recommendationFront-end"}}},created:function(){this.getSuperMap();var e=this.$router.options.routes;this.categoryOptions=Object(n["b"])("label",e)},methods:{changeCategory:function(){this.getSuperMap()},getSuperMap:function(){var e=this;r["b"](this.queryData).then(function(t){e.loading=!1,e.tableData=t.data,e.total=t.total})},openDialog:function(e){this.dialogFormVisible=!0,this.form=e},putSuperMap:function(e){var t=this;this.dialogFormVisible=!1,r["e"](e._id,e).then(function(a){"ok"===a.state?t.$notify.success({title:"成功",message:"编辑网站《".concat(e.name,"》成功！")}):t.$notify.error({title:"失败",message:"编辑网站《".concat(e.name,"》失败！")}),t.getSuperMap()})},deleteSuperMap:function(e){var t=this;this.$confirm("此操作将永久删除该网站, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r["a"](e._id).then(function(a){"ok"===a.state?t.$notify.success({title:"成功",message:"删除网站《".concat(e.name,"》成功！")}):t.$notify.error({title:"失败",message:"删除网站《".concat(e.name,"》失败！")}),t.getSuperMap()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleSizeChange:function(e){this.queryData.limit=e,this.getSuperMap()},handleCurrentChange:function(e){this.queryData.offset=(e-1)*this.queryData.limit,this.getSuperMap()}}},s=i,c=(a("c7d5"),a("2877")),u=Object(c["a"])(s,o,l,!1,null,"537e3953",null);t["default"]=u.exports},c7d5:function(e,t,a){"use strict";var o=a("9ecd"),l=a.n(o);l.a}}]);