(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c1f38a4"],{5138:function(t,e,o){"use strict";var a=o("c2e3"),n=o.n(a);n.a},6725:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"table-container"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"","highlight-current-row":""}},[o("el-table-column",{attrs:{type:"index"}}),t._v(" "),o("el-table-column",{attrs:{prop:"category",label:"分类",width:"200","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"名字",width:"200","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{prop:"website",label:"网站链接",width:"200","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{prop:"describe",label:"描述","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"200","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(o){return t.openDialog(e.row)}}},[t._v("编辑")]),t._v(" "),o("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(o){return t.deleteSuperMap(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("div",{staticClass:"pagination-container"},[o("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),o("el-dialog",{attrs:{title:"编辑网站",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"网站名称",prop:"name"}},[o("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网站分类",prop:"category"}},[o("el-select",{attrs:{placeholder:"请选择网站分类"},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},t._l(t.categoryOptions,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"网站链接",prop:"website"}},[o("el-input",{model:{value:t.form.website,callback:function(e){t.$set(t.form,"website",e)},expression:"form.website"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网站LOGO",prop:"logo"}},[o("el-input",{model:{value:t.form.logo,callback:function(e){t.$set(t.form,"logo",e)},expression:"form.logo"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"网站描述",prop:"describe"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.form.describe,callback:function(e){t.$set(t.form,"describe",e)},expression:"form.describe"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.putSuperMap(t.form)}}},[t._v("确 定")])],1)],1)],1)},n=[],r=(o("7f7f"),o("c91c")),l={data:function(){return{tableData:[],dialogFormVisible:!1,form:{},formLabelWidth:"120px",categoryOptions:[],currentPage:4}},created:function(){this.getSuperMap();for(var t=this.$router.options.routes,e=0;e<t.length;e++)if("/redirect"!==t[e].path){var o=t[e].children;for(var a in o){var n={value:"",label:""};n.value=o[a].path,n.label=o[a].meta.title,this.categoryOptions.push(n)}}this.categoryOptions=this.categoryOptions.slice(3)},methods:{getSuperMap:function(){var t=this;r["b"]().then(function(e){t.tableData=e.data})},openDialog:function(t){this.dialogFormVisible=!0,this.form=t},putSuperMap:function(t){var e=this;this.dialogFormVisible=!1,r["d"](t._id,t).then(function(o){"ok"===o.state?e.$notify.success({title:"成功",message:"编辑网站《".concat(t.name,"》成功！")}):e.$notify.error({title:"失败",message:"编辑网站《".concat(t.name,"》失败！")}),e.getSuperMap()})},deleteSuperMap:function(t){var e=this;this.$confirm("此操作将永久删除该网站, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r["a"](t._id).then(function(o){"ok"===o.state?e.$notify.success({title:"成功",message:"删除网站《".concat(t.name,"》成功！")}):e.$notify.error({title:"失败",message:"删除网站《".concat(t.name,"》失败！")}),e.getSuperMap()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleSizeChange:function(t){console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){console.log("当前页: ".concat(t))}}},i=l,c=(o("5138"),o("2877")),s=Object(c["a"])(i,a,n,!1,null,null,null);e["default"]=s.exports},c2e3:function(t,e,o){},c91c:function(t,e,o){"use strict";o.d(e,"b",function(){return n}),o.d(e,"c",function(){return r}),o.d(e,"d",function(){return l}),o.d(e,"a",function(){return i});var a=o("b775");function n(){return Object(a["a"])({url:"/superAdmin",method:"get"})}function r(t,e){return Object(a["a"])({url:"/superAdmin/".concat(t),method:"post",data:e})}function l(t,e){return Object(a["a"])({url:"/superAdmin/".concat(t),method:"put",data:e})}function i(t){return Object(a["a"])({url:"/superAdmin/".concat(t),method:"delete"})}}}]);